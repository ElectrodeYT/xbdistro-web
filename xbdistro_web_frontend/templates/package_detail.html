{% extends "base.html" %}

{% block title %}{{ package.name }} - XBDistro Package Explorer{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Sources</a></li>
                <li class="breadcrumb-item"><a href="/source/{{ package.source_name }}">{{ package.source_name }}</a></li>
                <li class="breadcrumb-item active">{{ package.name }}</li>
            </ol>
        </nav>

        <h1 class="mb-4">{{ package.name }}</h1>

        <!-- Package Metadata Card -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">Package Metadata</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    {% if package.maintainer %}
                    <div class="col-md-6">
                        <p><strong>Maintainer:</strong> {{ package.maintainer }}</p>
                    </div>
                    {% else %}
                    <div class="col-md-6">
                        <p><strong>Maintainer:</strong> <span class="badge bg-danger">MISSING MAINTAINER</span></p>
                    </div>
                    {% endif %}

                    {% if package.license %}
                    <div class="col-md-6">
                        <p><strong>License:</strong> {{ package.license }}</p>
                    </div>
                    {% else %}
                    <div class="col-md-6">
                        <p><strong>License:</strong> <span class="badge bg-warning text-dark">MISSING</span></p>
                    </div>
                    {% endif %}

                    {% if package.category %}
                    <div class="col-md-6">
                        <p><strong>Category:</strong> {{ package.category }}</p>
                    </div>
                    {% else %}
                    <div class="col-md-6">
                        <p><strong>Category:</strong> <span class="badge bg-warning text-dark">MISSING</span></p>
                    </div>
                    {% endif %}

                    {% if package.homepage_url %}
                    <div class="col-md-6">
                        <p><strong>Homepage:</strong> <a href="{{ package.homepage_url }}" target="_blank">{{ package.homepage_url }}</a></p>
                    </div>
                    {% else %}
                    <div class="col-md-6">
                        <p><strong>Homepage:</strong> <span class="badge bg-warning text-dark">MISSING</span></p>
                    </div>
                    {% endif %}
                </div>

                {% if package.summary %}
                <div class="mt-3">
                    <h6>Summary</h6>
                    <p>{{ package.summary }}</p>
                </div>
                {% else %}
                <div class="mt-3">
                    <h6>Summary</h6>
                    <p><span class="badge bg-warning text-dark">MISSING</span></p>
                </div>
                {% endif %}

                {% if package.description %}
                <div class="mt-3">
                    <h6>Description</h6>
                    <p>{{ package.description }}</p>
                </div>
                {% else %}
                <div class="mt-3">
                    <h6>Description</h6>
                    <p><span class="badge bg-warning text-dark">MISSING</span></p>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="mt-4">
            <a href="/source/{{ package.source_name }}" class="btn btn-primary">View Source</a>
            <a href="/" class="btn btn-secondary">Back to Home</a>
        </div>
    </div>
</div>
{% endblock %}